{"version":3,"sources":["js/galleryItems.js","js/app.js","index.js"],"names":["galleryItems","preview","original","description","refs","gallery","document","querySelector","modal","modalOverlay","modalImg","closeBtn","galleryMarkup","createGalleryMarkup","arr","map","join","renderGallery","markup","innerHTML","onItemCLick","e","preventDefault","target","currentTarget","modalOpen","dataset","source","alt","url","addEventListener","closeModal","onBackdropClick","onKeydown","classList","add","populateModalImg","removeEventListener","remove","src","contains","showPrevNextImg","key","num","findImage","currentSrc","currentImgIndx","findIndex","item","newImgIndx","length","at","addModalButtons","insertAdjacentHTML"],"mappings":"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","file":"src.29fd2918.js","sourceRoot":"../src","sourcesContent":["const galleryItems = [\n  {\n    preview: 'https://cdn.pixabay.com/photo/2019/05/14/16/43/himilayan-blue-poppy-4202825__340.jpg',\n    original:\n      'https://cdn.pixabay.com/photo/2019/05/14/16/43/himilayan-blue-poppy-4202825_1280.jpg',\n    description: 'Hokkaido Flower',\n  },\n  {\n    preview: 'https://cdn.pixabay.com/photo/2019/05/14/22/05/container-4203677__340.jpg',\n    original: 'https://cdn.pixabay.com/photo/2019/05/14/22/05/container-4203677_1280.jpg',\n    description: 'Container Haulage Freight',\n  },\n  {\n    preview: 'https://cdn.pixabay.com/photo/2019/05/16/09/47/beach-4206785__340.jpg',\n    original: 'https://cdn.pixabay.com/photo/2019/05/16/09/47/beach-4206785_1280.jpg',\n    description: 'Aerial Beach View',\n  },\n  {\n    preview: 'https://cdn.pixabay.com/photo/2016/11/18/16/19/flowers-1835619__340.jpg',\n    original: 'https://cdn.pixabay.com/photo/2016/11/18/16/19/flowers-1835619_1280.jpg',\n    description: 'Flower Blooms',\n  },\n  {\n    preview: 'https://cdn.pixabay.com/photo/2018/09/13/10/36/mountains-3674334__340.jpg',\n    original: 'https://cdn.pixabay.com/photo/2018/09/13/10/36/mountains-3674334_1280.jpg',\n    description: 'Alpine Mountains',\n  },\n  {\n    preview: 'https://cdn.pixabay.com/photo/2019/05/16/23/04/landscape-4208571__340.jpg',\n    original: 'https://cdn.pixabay.com/photo/2019/05/16/23/04/landscape-4208571_1280.jpg',\n    description: 'Mountain Lake Sailing',\n  },\n  {\n    preview: 'https://cdn.pixabay.com/photo/2019/05/17/09/27/the-alps-4209272__340.jpg',\n    original: 'https://cdn.pixabay.com/photo/2019/05/17/09/27/the-alps-4209272_1280.jpg',\n    description: 'Alpine Spring Meadows',\n  },\n  {\n    preview: 'https://cdn.pixabay.com/photo/2019/05/16/21/10/landscape-4208255__340.jpg',\n    original: 'https://cdn.pixabay.com/photo/2019/05/16/21/10/landscape-4208255_1280.jpg',\n    description: 'Nature Landscape',\n  },\n  {\n    preview: 'https://cdn.pixabay.com/photo/2019/05/17/04/35/lighthouse-4208843__340.jpg',\n    original: 'https://cdn.pixabay.com/photo/2019/05/17/04/35/lighthouse-4208843_1280.jpg',\n    description: 'Lighthouse Coast Sea',\n  },\n];\nexport default galleryItems;\n","import galleryItems from './galleryItems';\nconst refs = {\n  gallery: document.querySelector('.js-gallery'),\n  modal: document.querySelector('.js-lightbox'),\n  modalOverlay: document.querySelector('.lightbox__overlay'),\n  modalImg: document.querySelector('.lightbox__image'),\n  closeBtn: document.querySelector('[data-action=\"close-lightbox\"]'),\n};\n\nconst galleryMarkup = createGalleryMarkup(galleryItems);\nrenderGallery(galleryMarkup);\naddModalButtons();\nrefs.gallery.addEventListener('click', onItemCLick);\n\nfunction createGalleryMarkup(arr) {\n  return arr\n    .map(\n      ({ preview, original, description }) => `\n<li class=\"gallery__item\">\n  <a\n    class=\"gallery__link\"\n    href=\"${original}\"\n  >\n    <img\n      class=\"gallery__image\"\n      src=\"${preview}\"\n      data-source=\"${original}\"\n      alt=\"${description}\"\n    />\n  </a>\n</li>`,\n    )\n    .join('');\n}\nfunction renderGallery(markup) {\n  refs.gallery.innerHTML = markup;\n}\nfunction onItemCLick(e) {\n  e.preventDefault();\n  if (e.target === e.currentTarget) return;\n  const url = e.target.dataset.source;\n  const alt = e.target.alt;\n  modalOpen(url, alt);\n}\nfunction modalOpen(url, alt) {\n  refs.closeBtn.addEventListener('click', closeModal);\n  refs.modalOverlay.addEventListener('click', onBackdropClick);\n  document.addEventListener('keydown', onKeydown);\n  refs.modal.classList.add('is-open');\n  populateModalImg(url, alt);\n}\nfunction closeModal() {\n  refs.closeBtn.removeEventListener('click', closeModal);\n  refs.modalOverlay.removeEventListener('click', onBackdropClick);\n  document.removeEventListener('keydown', onKeydown);\n  refs.modal.classList.remove('is-open');\n  populateModalImg();\n}\nfunction populateModalImg(url = '', alt = '') {\n  refs.modalImg.src = url;\n  refs.modalImg.alt = alt;\n}\nfunction onBackdropClick(e) {\n  if (e.target === e.currentTarget) {\n    closeModal();\n    return;\n  }\n  if (e.target.classList.contains('lightbox__btn--back')) {\n    showPrevNextImg(-1);\n    return;\n  }\n  if (e.target.classList.contains('lightbox__btn--forward')) {\n    showPrevNextImg(1);\n    return;\n  }\n}\nfunction onKeydown(e) {\n  if (e.key === 'Escape') {\n    closeModal();\n    return;\n  }\n  if (e.key === 'ArrowLeft') {\n    showPrevNextImg(-1);\n    return;\n  }\n  if (e.key === 'ArrowRight') {\n    showPrevNextImg(1);\n    return;\n  }\n}\nfunction showPrevNextImg(num) {\n  const { original, description } = findImage(num);\n  populateModalImg(original, description);\n}\nfunction findImage(num) {\n  const currentSrc = refs.modalImg.src;\n  const currentImgIndx = galleryItems.findIndex(item => item.original === currentSrc);\n  const newImgIndx = currentImgIndx + num > galleryItems.length - 1 ? 0 : currentImgIndx + num;\n  const { original, description } = galleryItems.at(newImgIndx);\n  return { original, description };\n}\nfunction addModalButtons() {\n  const backBtnMarkup = '<span class=\"lightbox__btn lightbox__btn--back\"><</span>';\n  const forwardBtnMarkup = '<span class=\"lightbox__btn lightbox__btn--forward\">></span>';\n  refs.modalOverlay.insertAdjacentHTML('beforeend', backBtnMarkup);\n  refs.modalOverlay.insertAdjacentHTML('beforeend', forwardBtnMarkup);\n}\n","import './css/styles.css';\nimport './js/app';\n"]}